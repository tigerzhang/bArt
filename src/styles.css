:root{--toolbar-bg:rgba(255,255,255,0.95);--panel-bg:rgba(255,255,255,0.98);--toolbar-radius:20px;--toolbar-button-radius:999px;--toolbar-hover:rgba(0,0,0,0.04);--toolbar-border:rgba(0,0,0,0.06);--toolbar-button-size:36px;--toolbar-padding:6px;--toolbar-gap:6px;--toolbar-font-size:16px;--panel-toggle-size:44px;--panel-vertical-margin:16px;--panel-top-right-offset:16px;--panel-top-offset:18px;--panel-left-offset:16px;--panel-bottom-offset:18px;
    --panel-fold-top-adjust:-16px;
    --panel-fold-right-adjust:-16px;
    --panel-fold-left-adjust:-16px;
    --panel-fold-bottom-adjust:-6px
}
html,body,#root{height:100%;margin:0}
.app-root{height:100vh;background:#fafafa;position:relative;overflow:hidden}
.canvas-surface{position:absolute;left:0;top:0;right:0;bottom:0}
.floating-toolbar{position:fixed;left:16px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:var(--toolbar-gap);padding:var(--toolbar-padding);background:var(--toolbar-bg);box-shadow:0 8px 20px rgba(0,0,0,0.08);border-radius:var(--toolbar-radius);z-index:20;border:1px solid var(--toolbar-border);overflow:hidden}
.toolbar-button{display:flex;align-items:center;justify-content:center;width:var(--toolbar-button-size);height:var(--toolbar-button-size);border-radius:var(--toolbar-button-radius);background:transparent;border:1px solid #eee;font-size:var(--toolbar-font-size);cursor:pointer;transition:background 150ms ease,border-color 120ms ease,transform 80ms ease}
.toolbar-button:hover,.toolbar-button:focus{background:var(--toolbar-hover);border-color:rgba(0,0,0,0.06);transform:translateY(-1px)}
.floating-toolbar .zoom-display{font-size:11px;opacity:0.85;padding:4px 6px;border-radius:999px;background:rgba(0,0,0,0.03);}
.bottom-left-toolbar .zoom-display{font-size:12px;opacity:0.9;padding:6px 8px;border-radius:999px;background:rgba(0,0,0,0.04);text-align:center}

/* Zoom toolbar (left-bottom) */
.zoom-toolbar{display:flex;flex-direction:row;gap:var(--toolbar-gap);align-items:center;padding:4px 8px;background:var(--toolbar-bg);box-shadow:0 8px 20px rgba(0,0,0,0.08);border-radius:var(--toolbar-radius);border:1px solid var(--toolbar-border);overflow:visible;position:relative}
.zoom-toolbar .toolbar-button{width:var(--toolbar-button-size);height:var(--toolbar-button-size);border-radius:var(--toolbar-button-radius);background:transparent;border:1px solid #eee;font-size:var(--toolbar-font-size);cursor:pointer}
.zoom-toolbar .zoom-display{padding:4px 6px;border-radius:999px;background:rgba(0,0,0,0.03);font-size:11px;color:var(--text-color,#000);border:none;display:inline-flex;align-items:center;justify-content:center;cursor:pointer}
.zoom-toolbar .zoom-display:focus{outline:none;box-shadow:0 0 0 3px rgba(0,0,0,0.04)}

/* Zoom menu */
.zoom-menu{position:absolute;left:0;bottom:calc(100% + 8px);min-width:220px;background:var(--toolbar-bg);box-shadow:0 10px 40px rgba(0,0,0,0.12);border-radius:12px;border:1px solid var(--toolbar-border);z-index:60;padding:8px}
.zoom-menu ul{list-style:none;margin:0;padding:0}
.zoom-menu li{padding:10px 12px;border-radius:8px;cursor:pointer;color:#233;white-space:nowrap}
.zoom-menu li:hover{background:rgba(0,0,0,0.04)}
.zoom-menu li + li{margin-top:6px}
.zoom-menu li{display:flex;justify-content:space-between;align-items:center}
.zoom-menu .key{opacity:0.5;font-size:13px;margin-left:12px}
.right-panel{position:fixed;right:var(--panel-top-right-offset);top:var(--panel-top-offset);bottom:var(--panel-vertical-margin);width:320px;background:var(--panel-bg);box-shadow:0 6px 28px rgba(0,0,0,0.12);border-radius:6px;padding:12px;z-index:110}
/* animate open/close from the toggle button */
.right-panel{
	transform-origin:100% 100%;
	transition:transform 240ms cubic-bezier(.2,.9,.2,1), opacity 180ms ease;
}
.right-panel.enter{transform:translateX(0) scaleX(1);opacity:1}
.right-panel.exit{transform:translateX(calc(var(--panel-toggle-size) - 8px)) scaleX(0.2);opacity:0}
.layers-panel{position:fixed;left:var(--panel-left-offset);top:var(--panel-vertical-margin);bottom:calc(var(--panel-vertical-margin) + var(--panel-bottom-offset));width:260px;background:var(--panel-bg);box-shadow:0 8px 30px rgba(0,0,0,0.12);border-radius:8px;padding:12px;z-index:110;overflow:auto}
/* fold/unfold animations anchored to left toggle */
.layers-panel{transform-origin:0% 100%;transition:transform 240ms cubic-bezier(.2,.9,.2,1), opacity 180ms ease;max-height:calc(100vh - (var(--panel-vertical-margin) + var(--panel-vertical-margin) + var(--panel-bottom-offset)));}
.layers-panel.enter{transform:translateX(0) scaleX(1);opacity:1}
.layers-panel.exit{transform:translateX(calc(-1 * (var(--panel-toggle-size) - 8px))) scaleX(0.2);opacity:0}
.layers-panel h4{font-size:14px}
.layers-panel ul{list-style:none;padding:8px;margin:8px 0}
.layers-panel li{padding:8px;border-radius:6px;cursor:pointer}
.layers-panel li.selected{background:#e8f0ff}

.layers-panel{display:flex;flex-direction:column;height:100%}
.layers-panel h4{margin:0 0 8px 0}
.layers-panel ul{list-style:none;padding:0;margin:0;overflow:auto}
.layers-panel li{padding:6px;border-radius:6px;cursor:pointer}
.layers-panel li.selected{background:#e8f0ff}
.layer-type{opacity:0.7;font-size:12px;margin-left:8px}
.user-greeting{font-weight:600;margin-bottom:12px}
.template-card{margin-bottom:8px;padding:8px;border-radius:6px;background:#fff;border:1px solid #eee}

.panel-toggle{display:inline-flex;z-index:40}
.panel-toggle button{width:var(--panel-toggle-size);height:var(--panel-toggle-size);border-radius:var(--toolbar-button-radius);background:var(--toolbar-bg);border:1px solid #eee;font-size:18px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background 150ms ease,border-color 120ms ease,transform 80ms ease}
.panel-toggle button:hover,.panel-toggle button:focus{background:var(--toolbar-hover);border-color:rgba(0,0,0,0.06);transform:translateY(-1px)}

.bottom-left-toolbar{position:fixed;left:var(--panel-left-offset);bottom:var(--panel-bottom-offset);z-index:40;display:flex;flex-direction:row;gap:var(--toolbar-gap);align-items:flex-end}
.top-right-toolbar{position:fixed;right:var(--panel-top-right-offset);top:var(--panel-top-offset);z-index:40}
.top-right-toolbar .panel-toggle{display:inline-flex}
.fold-button{position:fixed;z-index:120;display:inline-flex;width:var(--panel-toggle-size);height:var(--panel-toggle-size);align-items:center;justify-content:center;border-radius:999px;background:var(--toolbar-bg);border:1px solid #eee;cursor:pointer}
.right-panel .fold-button{right:calc(var(--panel-top-right-offset) + var(--panel-fold-right-adjust));top:calc(var(--panel-top-offset) + var(--panel-fold-top-adjust))}
.layers-panel .fold-button{left:calc(var(--panel-left-offset) + var(--panel-fold-left-adjust));bottom:calc(var(--panel-bottom-offset) + var(--panel-fold-bottom-adjust))}
.bottom-left-toolbar .zoom-toolbar{display:flex;flex-direction:row;gap:8px;align-items:center}
.bottom-left-toolbar .toolbar-button{width:var(--toolbar-button-size);height:var(--toolbar-button-size)}

/* mirror for right-side toggle */
.bottom-right-toolbar{position:fixed;right:16px;bottom:18px;z-index:40;display:flex;flex-direction:row;gap:var(--toolbar-gap);align-items:flex-end}
.bottom-right-toolbar .toolbar-button{width:var(--toolbar-button-size);height:var(--toolbar-button-size)}
